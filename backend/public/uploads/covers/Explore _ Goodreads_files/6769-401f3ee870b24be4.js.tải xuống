"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6769],{70130:(e,n,t)=>{t.d(n,{D:()=>d});var r=t(74848);t(96540);var l=t(55127),o=t.n(l),i=t(81163);let a="AverageRating",s=e=>{let n=e;return n.endsWith("k")&&(n=n.replace("k"," thousand")),n.endsWith("m")&&(n=n.replace("m"," million")),n},d=e=>{let{stats:n,includeRatingsText:t}=e,l=(0,i._prettyNumber)(null==n?void 0:n.ratingsCount),d=s(l),c="".concat(null==n?void 0:n.averageRating," stars, ").concat(d," ratings");return(0,r.jsxs)("div",{className:a,"aria-label":c,children:[(0,r.jsx)(i.RatingStar,{ariaLabel:"",rating:1,selectable:!1}),(0,r.jsx)("span",{className:(0,i._bem)(a,"ratingValue"),"data-testid":"ratingValue","aria-hidden":!0,children:(0,r.jsx)(i.Text,{preset:i.Text.Preset.Body3,fontOptions:{weight:i.FontWeight.Semibold},color:i.TextColors.BodyStandard,children:null==n?void 0:n.averageRating})}),(null==n?void 0:n.ratingsCount)&&(0,r.jsx)("div",{"data-testid":"ratingsCount",className:(0,i._bem)(a,"ratingsCount"),"aria-hidden":!0,children:(0,r.jsxs)(i.Text,{preset:i.Text.Preset.Body3,color:i.TextColors.Subdued,children:[l," ",t&&o()("ratings",n.ratingsCount)]})})]})}},70495:(e,n,t)=>{t.d(n,{M:()=>j,g:()=>v});var r=t(74848),l=t(96540),o=t(81163),i=t(86100),a=function(e){return e.BOOK_COVER="https://dryofg8nmyqjw.cloudfront.net/images/no-cover.png",e}({});let s="ResponsiveImage",d=[1,2,3,4],c=(e,n)=>{let t=e.split(".");return t.splice(t.length-1,0,"_SX".concat(n,"_")),t.join(".")},u=(e,n)=>e?n?d.map(t=>"".concat(c(e,n*t)," ").concat(t,"x")).join(","):"".concat(e," 1x"):null,g=e=>{let{src:n=null,alt:t="",loading:o="lazy",fallback:i,width:a,...d}=e,[c,g]=(0,l.useState)(!n),h=u(n,a);return(0,r.jsx)("img",{className:s,srcSet:c?i:h,src:c?i:n,onError:()=>{g(!0)},alt:t,loading:o,...d})},h=e=>{let{src:n,loading:t="eager",fallback:l}=e,o="<img\n  class=".concat(s,'\n  role="presentation"\n  src="').concat(n||l,'" loading="').concat(t,'" onerror="this.onerror=null;this.src=\'').concat(l,"';\"/>");return(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:o}})};var m=t(77050);let x="BookCard";var v=function(e){return e[e.Small=80]="Small",e[e.Medium=150]="Medium",e[e.Large=300]="Large",e}({});let j=e=>{var n,t,l,s;let{book:d,seriesEdge:c,showAuthor:u,showTitle:v,fixedAspectRatio:j,focusable:b,block:p=!0,metaContent:w,size:y,ssr:C=!1,href:f,refTag:k,onClick:T,target:U,rel:_="noopener noreferrer"}=e,N=(0,m.Cu)(f,k);if(!d)return null;let B=u||v||w||c,S=(null==d?void 0:d.title)||"",A=f||T,W={alt:v?"":"".concat(S," Book Cover"),src:d.imageUrl,fallback:a.BOOK_COVER,width:y};return(0,r.jsx)("div",{className:(0,i.A)(x),children:(0,r.jsxs)(o.BaseClickable,{as:A?void 0:"div",href:N,target:U,rel:_,tabIndex:b?0:-1,className:(0,i.A)([(0,o._bem)(x,"clickCardTarget"),{[(0,o._bem)(x,"interactive")]:f||T},{[(0,o._bem)(x,"block")]:p}]),children:[(0,r.jsx)("div",{className:(0,o._bem)(x,"cover"),children:(0,r.jsx)(o.BookCover,{fixedAspectRatio:j,children:C?(0,r.jsx)(h,{...W}):(0,r.jsx)(g,{...W})})}),B&&(0,r.jsxs)("div",{className:(0,o._bem)(x,"content"),children:[(null==c?void 0:c.seriesPlacement)&&(0,r.jsx)("div",{"data-testid":"series",className:(0,o._bem)(x,"series"),children:(0,r.jsx)(o.Text,{color:o.TextColors.Subdued,preset:o.Text.Preset.Body3,fontOptions:{italic:!0},children:"#".concat(c.seriesPlacement)})}),v&&(0,r.jsx)("div",{"data-testid":"title",className:(0,o._bem)(x,"title"),children:null==d?void 0:d.title}),u&&(0,r.jsx)("div",{"data-testid":"author",className:(0,o._bem)(x,"authorName"),"aria-label":"by ".concat(null==d?void 0:null===(t=d.primaryContributorEdge)||void 0===t?void 0:null===(n=t.node)||void 0===n?void 0:n.name),children:null==d?void 0:null===(s=d.primaryContributorEdge)||void 0===s?void 0:null===(l=s.node)||void 0===l?void 0:l.name}),(0,r.jsx)("div",{"data-testid":"meta",className:(0,o._bem)(x,"meta"),children:w})]})]})})}},40083:(e,n,t)=>{t.d(n,{W:()=>s,w:()=>a});var r=t(74848);t(96540);var l=t(81163),o=t(77050),i=t(20024);let a=4,s=e=>{let{bookCards:n,overflowButtonProps:t,sectionTitle:s,cardsToShowAt:d,sectionDescription:c,refTag:u,dataTestId:g,totalCount:h=0}=e,m=(0,o.Cu)(t.webUrl,"".concat(u,"_seeall")),x=t?{...t,webUrl:u?m:t.webUrl}:void 0;if(!n.length)return null;let v={sectionTitle:s,overflowButtonProps:x,totalCards:n.length,contentType:l.CarouselContentType.Book,totalCount:h,cardsToShowAt:d,sectionDescription:c,dataTestId:g,cardsToShow:a};return null!=u?(0,r.jsx)(i.$D,{addRefTag:u,children:(0,r.jsx)(l.Carousel,{...v,children:n})}):(0,r.jsx)(l.Carousel,{...v,children:n})}},74632:(e,n,t)=>{t.d(n,{G:()=>o});var r=t(74848),l=t(96540);let o=e=>{let{inlineAds:n,adStartIndex:t,adFrequency:o,children:i}=e;return(0,r.jsx)(r.Fragment,{children:((e,n)=>{if(!(null==e?void 0:e.length))return[];let r=[...e];if(o<1||t<0||t>=r.length)return r;let l=Math.ceil((r.length-1)/o);return null==n||n.slice(0,l).forEach((e,n)=>{r.splice((o+1)*n+t,0,e)}),r})(l.Children.toArray(i),n)})}},78728:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(74848);t(96540);var l=t(43516),o=t(82815);let i=e=>(0,r.jsx)(o.ec,{logPageHit:!1,children:(0,r.jsx)(o.bU,{className:e,children:(0,r.jsxs)(l.Ay,{height:300,width:404,speed:1,foregroundColor:"#e0dcd3",backgroundColor:"#f5f4f1",children:[(0,r.jsx)("rect",{x:"50",y:"7",rx:"0",ry:"0",width:"307",height:"28"}),(0,r.jsx)("rect",{x:"16",y:"53",rx:"0",ry:"0",width:"91",height:"128"}),(0,r.jsx)("rect",{x:"130",y:"60",rx:"0",ry:"0",width:"114",height:"13"}),(0,r.jsx)("rect",{x:"130",y:"77",rx:"0",ry:"0",width:"106",height:"8"}),(0,r.jsx)("rect",{x:"130",y:"113",rx:"0",ry:"0",width:"240",height:"6"}),(0,r.jsx)("rect",{x:"130",y:"133",rx:"0",ry:"0",width:"240",height:"6"}),(0,r.jsx)("rect",{x:"130",y:"124",rx:"0",ry:"0",width:"240",height:"5"}),(0,r.jsx)("circle",{cx:"269",cy:"127",r:"2"}),(0,r.jsx)("rect",{x:"130",y:"90",rx:"0",ry:"0",width:"61",height:"5"}),(0,r.jsx)("rect",{x:"198",y:"90",rx:"0",ry:"0",width:"61",height:"5"}),(0,r.jsx)("rect",{x:"130",y:"146",rx:"0",ry:"0",width:"28",height:"9"}),(0,r.jsx)("rect",{x:"165",y:"146",rx:"0",ry:"0",width:"28",height:"9"}),(0,r.jsx)("rect",{x:"200",y:"146",rx:"0",ry:"0",width:"28",height:"9"}),(0,r.jsx)("rect",{x:"235",y:"146",rx:"0",ry:"0",width:"28",height:"9"}),(0,r.jsx)("rect",{x:"270",y:"146",rx:"0",ry:"0",width:"28",height:"9"}),(0,r.jsx)("rect",{x:"264",y:"90",rx:"0",ry:"0",width:"61",height:"5"})]})})})},26769:(e,n,t)=>{t.d(n,{Ay:()=>$});var r=t(74848),l=t(96540),o=t(13368),i=t.n(o),a=t(46537),s=t(84577);function d(){let e=(0,s._)(["\n  query getHomePageWidgets {\n    getHomeWidgets {\n      apiVersion\n      edges {\n        node {\n          id\n          title\n          subtitle\n          score\n          rerankedScore\n          reftag\n          webUrl\n          webUrlText\n          overflowUrl\n          overflowUrlText\n          recommendations {\n            ... on HomeWidgetBookEdge {\n              source {\n                title\n                webUrl\n              }\n              node {\n                book {\n                  imageUrl\n                  title\n                  webUrl\n                  primaryContributorEdge {\n                    node {\n                      name\n                    }\n                  }\n                  stats {\n                    ratingsCount\n                    averageRating\n                  }\n                }\n              }\n            }\n            ... on HomeWidgetWorkEdge {\n              node {\n                details {\n                  bestBook {\n                    imageUrl\n                    title\n                    webUrl\n                    primaryContributorEdge {\n                      node {\n                        name\n                      }\n                    }\n                    stats {\n                      ratingsCount\n                      averageRating\n                    }\n                  }\n                }\n              }\n            }\n            ... on HomeWidgetBlogEdge {\n              metadata {\n                key\n                value\n              }\n              node {\n                id\n                webUrl\n                title\n                imageUrl\n                body\n                likesCount\n                commentsCount\n              }\n            }\n            ... on HomeWidgetInterviewEdge {\n              metadata {\n                key\n                value\n              }\n              node {\n                id\n                webUrl\n                title\n                imageUrl\n                body\n                likesCount\n                commentsCount\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}let c=(0,t(95633).J1)(d());var u=t(82815),g=t(81163),h=t(54279),m=t(1694);let x=e=>{let{onReload:n}=e;return(0,r.jsxs)(g.Alert,{role:"alertdialog",children:["Oops, something went wrong.",n&&(0,r.jsx)(g.Alert.Footer,{children:(0,r.jsx)(g.Button,{variant:g.ButtonVariant.Inline,size:g.ButtonSize.Medium,onClick:n,children:"Try again"})})]})};var v=function(e){return e.Basic="basic",e.Reloadable="reloadable",e.Custom="custom",e}({});let j={error:null};class b extends l.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,n){let{logError:t,metric:r}=this.props;t&&h.A.error("ErrorBoundary caught an error. Error: ".concat(e.toString(),", info: ").concat(n.componentStack)),r&&m.A.reportCount(r.name,r.dimensions)}render(){let{type:e="basic",fallbackComponent:n=null,children:t=null}=this.props,{error:l}=this.state;return l?"custom"===e?n:"reloadable"===e?(0,r.jsx)(x,{onReload:()=>this.setState({error:null})}):(0,r.jsx)(x,{}):t}constructor(e){super(e),this.state=j}}var p=t(78728),w=t(49793),y=t(40083),C=t(70495),f=t(70130),k=t(66909),T=t(77050),U=t(20024);let _=e=>e.replace(/<a/g,'<a tabindex="-1"'),N=e=>{let{imageUrl:n,headline:t,excerpt:l,webUrl:o,likeCount:i,commentCount:a}=e,s="HomeHeroArticlePrimary",d=(0,T.Cu)(o,"1"),c=_(l);return(0,r.jsx)(g.Elevation,{href:d,padding:g.ElevationPadding.None,focusable:!0,children:(0,r.jsxs)("article",{className:s,children:[(0,r.jsx)("div",{className:(0,k.o4)(s,"imageContainer"),children:(0,r.jsx)("img",{alt:t,src:n})}),(0,r.jsxs)("div",{className:(0,k.o4)(s,"content"),children:[(0,r.jsx)("div",{className:(0,k.o4)(s,"headline"),children:(0,r.jsx)(g.Text,{preset:g.TextPreset.Title2,tag:"h1",children:t})}),(0,r.jsx)("div",{className:(0,k.o4)(s,"excerpt"),children:(0,r.jsx)(g.Text,{truncateTo:5,children:(0,r.jsx)(g.Formatted,{dangerousUserText:c})})}),(0,r.jsxs)("div",{className:(0,k.o4)(s,"counts"),children:[(0,r.jsxs)("span",{children:[i," likes"]}),a>0&&(0,r.jsxs)("span",{className:(0,k.o4)(s,"additionalCount"),children:[a," comments"]})]})]})]})})},B=e=>{let{webUrl:n,title:t,index:l}=e,o="HomeHeroArticleSecondary",i=(0,T.Cu)(n,l);return(0,r.jsx)("article",{className:o,children:(0,r.jsx)(g.Text,{preset:g.TextPreset.Title3,fontOptions:{weight:g.FontWeight.Regular},children:(0,r.jsx)("a",{className:(0,k.o4)(o,"link"),href:i,children:t})})},n)},S="HomeHeroSection",A=e=>{let{imageUrl:n,headline:t,excerpt:l,webUrl:o,links:i,overflowUrl:a,overflowlinkLabel:s,likeCount:d,commentCount:c,refTag:u}=e,h=(0,T.Cu)(a,"".concat(u,"_seeall"));return(0,r.jsx)("section",{className:(0,k.o4)(S),children:(0,r.jsxs)(U.$D,{addRefTag:u,children:[(0,r.jsx)("div",{className:(0,k.o4)(S,"primaryContent"),children:(0,r.jsx)(N,{imageUrl:n,headline:t,excerpt:l,webUrl:o,likeCount:d,commentCount:c})}),(0,r.jsxs)("div",{className:(0,k.o4)(S,"relatedContent"),children:[(0,r.jsx)("div",{className:(0,k.o4)(S,"links"),children:null==i?void 0:i.map((e,n)=>(0,r.jsx)(B,{title:e.title,webUrl:e.webUrl,index:(n+2).toString()},(n+2).toString()))}),a&&(0,r.jsx)(g.OverflowButton,{webUrl:h,label:s})]})]})})};var W=t(6548),E=t(60350),H=t(14953),R=t.n(H),P=t(74632);let M={booksWidgets:["goodreads-home_gr-similar-books","goodreads-home_gr-similar-books-curread","goodreads-home_gr-similar-books-wtr"],worksWidgets:["trendingBooks","goodreads-home_gr-trending-books"],heroWidgets:["goodreads-home_gr-hero"]},O="HomePage",z=R()(()=>Promise.all([t.e(9843),t.e(2880),t.e(2753),t.e(4191),t.e(2314),t.e(2355),t.e(6498),t.e(7597),t.e(7359),t.e(9279)]).then(t.bind(t,77359)),{loadableGenerated:{webpack:()=>[77359]},ssr:!1}),F=[(0,r.jsx)(z,{name:"goodr.home.2",sizeMappings:W.zy.InlineAd,"data-testid":"goodrHome2"},"goodr.home.2"),(0,r.jsx)(z,{name:"goodr.home.3",sizeMappings:W.zy.InlineAd,"data-testid":"goodrHome3"},"goodr.home.3")],I=e=>null==e?void 0:e.map(e=>{var n,t;if(!(null==e?void 0:null===(t=e.node)||void 0===t?void 0:null===(n=t.details)||void 0===n?void 0:n.bestBook))return{};let{bestBook:r}=e.node.details;return{...r,...r.stats,author:r.primaryContributorEdge.node.name}}),L=e=>null==e?void 0:e.map(e=>{var n;return null==e?void 0:null===(n=e.node)||void 0===n?void 0:n.book}),D=e=>null==e?void 0:e.substring(0,e.length-1),V=e=>{var n;if(!e)return null;let t=null==e?void 0:e.recommendations,r=null===(n=t[0])||void 0===n?void 0:n.node;return{imageUrl:null==r?void 0:r.imageUrl,headline:null==r?void 0:r.title,webUrl:null==r?void 0:r.webUrl,overflowUrl:null==e?void 0:e.overflowUrl,overflowlinkLabel:null==e?void 0:e.overflowUrlText,likeCount:null==r?void 0:r.likesCount,commentCount:null==r?void 0:r.commentsCount,excerpt:null==r?void 0:r.body,links:t.slice(1,Math.min(4,null==t?void 0:t.length)).map(e=>{var n,t;return{title:null==e?void 0:null===(n=e.node)||void 0===n?void 0:n.title,webUrl:null==e?void 0:null===(t=e.node)||void 0===t?void 0:t.webUrl}})}},G=e=>null==e?void 0:e.map((e,n)=>{var t,l;let o;if(!(null==e?void 0:null===(t=e.node)||void 0===t?void 0:t.id))return{};let i=e.node,a=null==i?void 0:null===(l=i.recommendations[0])||void 0===l?void 0:l.source,s=null==a?void 0:a.title,d=null==a?void 0:a.webUrl,c=D(null==i?void 0:i.reftag),u=n+1,h=(0,r.jsxs)("div",{className:(0,g._bem)(O,"sectionTitle"),children:[i.title,s&&d?(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)("a",{className:(0,g._bem)(O,"sectionTitleLink"),href:d,children:s})]}):""]});if(M.heroWidgets.includes(i.id))o=(0,r.jsx)(U.$D,{addRefTag:c,children:(0,r.jsx)(A,{refTag:u.toString(),...V(i)})});else if(M.worksWidgets.includes(i.id)||M.booksWidgets.includes(i.id)){let e=M.worksWidgets.includes(i.id)?I(i.recommendations):L(i.recommendations);o=(null==e?void 0:e.length)>0?(0,r.jsx)(U.$D,{addRefTag:c,children:(0,r.jsx)(y.W,{sectionTitle:h,overflowButtonProps:{label:i.overflowUrlText,webUrl:i.overflowUrl,ariaLabel:"".concat(i.overflowUrlText,", ").concat(i.title," ").concat(s)},cardsToShowAt:{[g.Breakpoints.Large]:5,[g.Breakpoints.Medium]:4,[g.Breakpoints.XSmall]:3,[g.Breakpoints.Smallest]:2},bookCards:e.map((e,n)=>{var t,l;return(0,r.jsx)(C.M,{book:e,showAuthor:!0,showTitle:!0,fixedAspectRatio:!0,size:C.g.Large,href:null==e?void 0:e.webUrl,metaContent:(0,r.jsx)(f.D,{stats:null==e?void 0:e.stats}),refTag:(n+1).toString()},null!==(l=null==e?void 0:null===(t=e.title)||void 0===t?void 0:t.replaceAll(" ","_"))&&void 0!==l?l:"".concat(O,"_").concat(n))}),refTag:u.toString()})}):(0,r.jsx)(r.Fragment,{})}return(0,r.jsx)(b,{type:v.Reloadable,children:(0,r.jsx)("div",{"data-testid":i.id,children:o})},i.id)}),$=(0,w._v)({ssr:!0})(()=>{var e;let{data:n,loading:t,error:l}=(0,a.IT)(c),o=G(null==n?void 0:null===(e=n.getHomeWidgets)||void 0===e?void 0:e.edges);return t?(0,r.jsx)(p.A,{}):l&&(0,E.yz)()?(0,r.jsx)(u.eO,{error:l}):!l&&(null==n?void 0:n.getHomeWidgets)?(0,r.jsxs)(u.ec,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Explore | Goodreads"})}),(0,r.jsxs)(u.bU,{className:O,topBannerAd:(0,r.jsx)(z,{name:"goodr.home.1",sizeMappings:W.zy.TopBanner,"data-testid":"goodrHome1"}),children:[(0,r.jsx)("div",{className:(0,g._bem)(O,"widgetsArea"),children:(0,r.jsx)(P.G,{inlineAds:F,adStartIndex:2,adFrequency:3,children:o})}),(0,r.jsx)(g.ToastContainer,{})]})]}):(0,r.jsx)(u.M,{statusCode:500,message:null==l?void 0:l.message,from:O})})}}]);